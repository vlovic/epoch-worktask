import matplotlib.pyplot as plt

results = {'safety': {'2022': 234, '2021': 306, '2020': 206, '2019': 119, '2018': 93, '2017': 51, '2016': 39, '2015': 11, '2014': 6, '2013': 7, '2012': 7, '2011': 6, '2010': 3, '2009': 3}, 'align': {'2022': 339, '2021': 431, '2020': 197, '2019': 125, '2018': 111, '2017': 54, '2016': 33, '2015': 23, '2014': 8, '2013': 8, '2012': 11, '2011': 13, '2010': 3, '2009': 2, '2008': 2, '2007': 1}, 'bias': {'2022': 453, '2021': 659, '2020': 364, '2019': 180, '2018': 156, '2017': 81, '2016': 39, '2015': 21, '2014': 19, '2013': 26, '2012': 24, '2011': 11, '2010': 5, '2009': 4, '2008': 1, '2007': 4, '2006': 1}, 'fair': {'2022': 232, '2021': 337, '2020': 248, '2019': 127, '2018': 84, '2017': 38, '2016': 13, '2015': 13, '2014': 9, '2013': 11, '2012': 6, '2011': 3, '2010': 6, '2008': 1, '2007': 1}, 'human values': {'2022': 8, '2021': 3, '2020': 9, '2019': 4, '2018': 1, '2017': 2, '2016': 2, '2014': 1}, 'AGI': {'2022': 10, '2021': 23, '2020': 17, '2019': 9, '2018': 13, '2017': 5, '2016': 2, '2015': 2, '2014': 1, '2013': 2, '2012': 1, '2011': 3}, 'general intelligence': {'2022': 8, '2021': 28, '2020': 16, '2019': 10, '2018': 11, '2017': 6, '2016': 4, '2015': 1, '2014': 2, '2013': 2, '2012': 1, '2011': 4}, 'generality': {'2022': 39, '2021': 45, '2020': 21, '2019': 27, '2018': 21, '2017': 8, '2016': 5, '2015': 3, '2014': 6, '2013': 4, '2012': 4, '2011': 11, '2010': 2, '2009': 3, '2006': 1}, 'AI safety': {'2022': 7, '2021': 6, '2020': 7, '2019': 5, '2018': 3, '2017': 4, '2016': 2}, 'interpretab': {'2022': 362, '2021': 492, '2020': 340, '2019': 186, '2018': 147, '2017': 91, '2016': 46, '2015': 9, '2014': 5, '2013': 1, '2012': 1, '2011': 3, '2010': 3, '2009': 2, '2008': 2, '2007': 1}, 'transparent': {'2022': 39, '2021': 79, '2020': 43, '2019': 26, '2018': 26, '2017': 16, '2016': 4, '2015': 3, '2014': 3, '2013': 4, '2011': 1, '2010': 4}, 'discriminat': {'2022': 252, '2021': 360, '2020': 165, '2019': 102, '2018': 120, '2017': 85, '2016': 46, '2015': 13, '2014': 14, '2013': 13, '2012': 10, '2011': 9, '2010': 5, '2009': 5, '2008': 1, '2007': 1, '2006': 1}, 'accountab': {'2022': 26, '2021': 44, '2020': 21, '2019': 20, '2018': 8, '2017': 8, '2016': 2, '2014': 1, '2013': 1, '2012': 1, '2009': 1}, 'privacy': {'2022': 254, '2021': 328, '2020': 152, '2019': 61, '2018': 37, '2017': 28, '2016': 12, '2015': 10, '2014': 9,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         '2013': 2, '2012': 3, '2010': 1, '2009': 4, '2008': 1, '2007': 1}, 'weapon': {'2022': 4, '2021': 2, '2020': 6, '2019': 5, '2018': 5, '2013': 2, '2010': 2, '2009': 2}, 'lethal': {'2022': 1, '2021': 2}, 'killer': {'2020': 1, '2019': 3, '2018': 1, '2017': 1}, 'ethic': {'2022': 88, '2021': 148, '2020': 92, '2019': 66, '2018': 40, '2017': 19, '2016': 9, '2015': 5, '2014': 7, '2013': 1, '2010': 1, '2009': 1}, 'beneficial': {'2022': 104, '2021': 130, '2020': 68, '2019': 52, '2018': 30, '2017': 26, '2016': 6, '2015': 9, '2014': 12, '2013': 12, '2012': 3, '2010': 2, '2009': 3, '2008': 1}, 'convergence': {'2022': 224, '2021': 368, '2020': 197, '2019': 136, '2018': 117, '2017': 80, '2016': 51, '2015': 35, '2014': 23, '2013': 39, '2012': 45, '2011': 19, '2010': 8, '2009': 11, '2008': 11, '2007': 6, '2006': 1}, 'power-seeking': {'2022': 2, '2020': 1, '2019': 1}, 'AI-complete': {'2021': 1, '2019': 1}, 'AI-hard': {'2019': 1}, 'transformative': {'2022': 6, '2021': 6, '2020': 2, '2019': 4, '2018': 2, '2017': 2}, 'superintelligence': {'2020': 2, '2019': 2, '2018': 1, '2016': 4}, 'human compatible': {'2021': 1}, 'human-compatible': {'2021': 1, '2020': 1}, 'provably beneficial': {}, 'inverse reinforcement learning': {'2022': 10, '2021': 15, '2020': 18, '2019': 11, '2018': 10, '2017': 6, '2016': 5, '2014': 2, '2013': 1, '2012': 1, '2011': 1}, 'value alignment': {'2022': 6, '2021': 4, '2020': 3, '2019': 6, '2018': 6, '2017': 5, '2016': 2}, 'human-like': {'2022': 42, '2021': 84, '2020': 59, '2019': 42, '2018': 22, '2017': 17, '2016': 8, '2015': 4, '2014': 2, '2011': 1, '2010': 2, '2007': 1}, 'general': {'2022': 1668, '2021': 2443, '2020': 1413, '2019': 934, '2018': 815, '2017': 506, '2016': 330, '2015': 226, '2014': 251, '2013': 378, '2012': 254, '2011': 183, '2010': 103, '2009': 78, '2008': 51, '2007': 51, '2006': 15}, 'existential risk': {'2022': 2, '2020': 2, '2016': 1, '2014': 1}, 'existential-risk': {}, 'x-risk': {'2022': 1}, 'control problem': {'2022': 26, '2021': 41, '2020': 38, '2019': 25, '2018': 21, '2017': 16, '2016': 6, '2015': 2, '2014': 1, '2013': 8, '2012': 5, '2011': 7, '2010': 2, '2008': 2, '2007': 3}, 'friendly': {'2022': 42, '2021': 76, '2020': 26, '2019': 19, '2018': 13, '2017': 13, '2016': 7, '2015': 4, '2014': 5, '2013': 4, '2012': 3, '2011': 3, '2010': 2, '2009': 3, '2006': 1}}
results = {'safety': {'2022': 234, '2021': 306, '2020': 206, '2019': 119, '2018': 93, '2017': 51, '2016': 39, '2015': 11, '2014': 6, '2013': 7, '2012': 7, '2011': 6, '2010': 3, '2009': 3}, 'align': {'2022': 339, '2021': 431, '2020': 197, '2019': 125, '2018': 111, '2017': 54, '2016': 33, '2015': 23, '2014': 8, '2013': 8, '2012': 11, '2011': 13, '2010': 3, '2009': 2, '2008': 2, '2007': 1}, 'bias': {'2022': 453, '2021': 659, '2020': 364, '2019': 180, '2018': 156, '2017': 81, '2016': 39, '2015': 21, '2014': 19, '2013': 26, '2012': 24, '2011': 11, '2010': 5, '2009': 4, '2008': 1, '2007': 4, '2006': 1}, 'fair': {'2022': 232, '2021': 337, '2020': 248, '2019': 127, '2018': 84, '2017': 38, '2016': 13, '2015': 13, '2014': 9, '2013': 11, '2012': 6, '2011': 3, '2010': 6, '2008': 1, '2007': 1}, 'human values': {'2022': 8, '2021': 3, '2020': 9, '2019': 4, '2018': 1, '2017': 2, '2016': 2, '2014': 1}, 'AGI': {'2022': 10, '2021': 23, '2020': 17, '2019': 9, '2018': 13, '2017': 5, '2016': 2, '2015': 2, '2014': 1, '2013': 2, '2012': 1, '2011': 3}, 'general intelligence': {'2022': 8, '2021': 28, '2020': 16, '2019': 10, '2018': 11, '2017': 6, '2016': 4, '2015': 1, '2014': 2, '2013': 2, '2012': 1, '2011': 4}, 'generality': {'2022': 39, '2021': 45, '2020': 21, '2019': 27, '2018': 21, '2017': 8, '2016': 5, '2015': 3, '2014': 6, '2013': 4, '2012': 4, '2011': 11, '2010': 2, '2009': 3, '2006': 1}, 'AI safety': {'2022': 7, '2021': 6, '2020': 7, '2019': 5, '2018': 3, '2017': 4, '2016': 2}, 'interpretab': {'2022': 362, '2021': 492, '2020': 340, '2019': 186, '2018': 147, '2017': 91, '2016': 46, '2015': 9, '2014': 5, '2013': 1, '2012': 1, '2011': 3, '2010': 3, '2009': 2, '2008': 2, '2007': 1}, 'transparent': {'2022': 39, '2021': 79, '2020': 43, '2019': 26, '2018': 26, '2017': 16, '2016': 4, '2015': 3, '2014': 3, '2013': 4, '2011': 1, '2010': 4}, 'discriminat': {'2022': 252, '2021': 360, '2020': 165, '2019': 102, '2018': 120, '2017': 85, '2016': 46, '2015': 13, '2014': 14, '2013': 13, '2012': 10, '2011': 9, '2010': 5, '2009': 5, '2008': 1, '2007': 1, '2006': 1}, 'accountab': {'2022': 26, '2021': 44, '2020': 21, '2019': 20, '2018': 8, '2017': 8, '2016': 2, '2014': 1, '2013': 1, '2012': 1, '2009': 1}, 'privacy': {'2022': 254, '2021': 328, '2020': 152, '2019': 61, '2018': 37, '2017': 28, '2016': 12, '2015': 10, '2014': 9,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         '2013': 2, '2012': 3, '2010': 1, '2009': 4, '2008': 1, '2007': 1}, 'weapon': {'2022': 4, '2021': 2, '2020': 6, '2019': 5, '2018': 5, '2013': 2, '2010': 2, '2009': 2}, 'lethal': {'2022': 1, '2021': 2}, 'killer': {'2020': 1, '2019': 3, '2018': 1, '2017': 1}, 'ethic': {'2022': 88, '2021': 148, '2020': 92, '2019': 66, '2018': 40, '2017': 19, '2016': 9, '2015': 5, '2014': 7, '2013': 1, '2010': 1, '2009': 1}, 'beneficial': {'2022': 104, '2021': 130, '2020': 68, '2019': 52, '2018': 30, '2017': 26, '2016': 6, '2015': 9, '2014': 12, '2013': 12, '2012': 3, '2010': 2, '2009': 3, '2008': 1}, 'convergence': {'2022': 224, '2021': 368, '2020': 197, '2019': 136, '2018': 117, '2017': 80, '2016': 51, '2015': 35, '2014': 23, '2013': 39, '2012': 45, '2011': 19, '2010': 8, '2009': 11, '2008': 11, '2007': 6, '2006': 1}, 'power-seeking': {'2022': 2, '2020': 1, '2019': 1}, 'AI-complete': {'2021': 1, '2019': 1}, 'AI-hard': {'2019': 1}, 'transformative': {'2022': 6, '2021': 6, '2020': 2, '2019': 4, '2018': 2, '2017': 2}, 'superintelligence': {'2020': 2, '2019': 2, '2018': 1, '2016': 4}, 'human compatible': {'2021': 1}, 'human-compatible': {'2021': 1, '2020': 1}, 'provably beneficial': {}, 'inverse reinforcement learning': {'2022': 10, '2021': 15, '2020': 18, '2019': 11, '2018': 10, '2017': 6, '2016': 5, '2014': 2, '2013': 1, '2012': 1, '2011': 1}, 'value alignment': {'2022': 6, '2021': 4, '2020': 3, '2019': 6, '2018': 6, '2017': 5, '2016': 2}, 'human-like': {'2022': 42, '2021': 84, '2020': 59, '2019': 42, '2018': 22, '2017': 17, '2016': 8, '2015': 4, '2014': 2, '2011': 1, '2010': 2, '2007': 1}, 'general': {'2022': 1668, '2021': 2443, '2020': 1413, '2019': 934, '2018': 815, '2017': 506, '2016': 330, '2015': 226, '2014': 251, '2013': 378, '2012': 254, '2011': 183, '2010': 103, '2009': 78, '2008': 51, '2007': 51, '2006': 15}, 'existential risk': {'2022': 2, '2020': 2, '2016': 1, '2014': 1}, 'existential-risk': {}, 'x-risk': {'2022': 1}, 'control problem': {'2022': 26, '2021': 41, '2020': 38, '2019': 25, '2018': 21, '2017': 16, '2016': 6, '2015': 2, '2014': 1, '2013': 8, '2012': 5, '2011': 7, '2010': 2, '2008': 2, '2007': 3}, 'friendly': {'2022': 42, '2021': 76, '2020': 26, '2019': 19, '2018': 13, '2017': 13, '2016': 7, '2015': 4, '2014': 5, '2013': 4, '2012': 3, '2011': 3, '2010': 2, '2009': 3, '2006': 1}}

total_papers = {'2022': 8174, '2021': 12480, '2020': 7394, '2019': 4744, '2018': 4271, '2017': 2809, '2016': 1944, '2015': 1111,
                '2014': 1024, '2013': 1729, '2012': 1134, '2011': 786, '2010': 477, '2009': 382, '2008': 277, '2007': 193, '2006': 71}

for keyword in results:

    normalised_counts = {}
    for year in results[keyword]:
        normalised_counts[year] = results[keyword][year] / total_papers[year]

    x = list(normalised_counts.keys())
    y = list(normalised_counts.values())

    x_pos = list(range(len(x)))

    plt.bar(x_pos, y)
    plt.xticks(x_pos, x)
    plt.title(keyword)

    plt.show()
